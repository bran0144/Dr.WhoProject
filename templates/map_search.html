{% extends 'base.html' %}
{% block head %}
<link rel="stylesheet" href="/static/style.css">

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

<script
defer
src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap&libraries=&v=weekly">
</script>

<script>
  const locations = {{ locations|tojson|safe }};

</script>
<script>

let map;

function initMap() {
  map = new google.maps.Map(document.getElementById("searched_map"), {
    center: { lat: 51.509865, lng: -0.118092 },
    zoom: 5,
  });

  locations.forEach(location => {
    const address = location.address;
    const latLng = {'lat': Number(location.latitude), 'lng': Number(location.longitude)};
  
    const locationMarker = new google.maps.Marker({
        position: latLng,
        map: map,
    });
}) 
} 

</script>
{% endblock %}
{% block body %}
{% block navbar %} {% endblock %}

 
      <div id="searched_map"></div>


{% endblock %} 
